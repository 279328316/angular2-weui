<div class="weui-uploader">
    <div class="weui-uploader__hd">
        <p class="weui-uploader__title">图片上传</p>
        <div class="weui-uploader__info">{{getUploadedFileCount()}}/{{getFileCount()}}</div>
    </div>
    <div class="weui-uploader__bd">
        <ul class="weui-uploader__files">
            <li class="weui-uploader__file" *ngFor="let file of files"
                [style.background-image]="file.fileURL"
                [ngClass]="{'weui-uploader__file_status': file.hasMessage()}"
                (click)="preview(file)">
                <div class="weui-uploader__file-content" *ngIf="file.hasMessage()">
                    <div class="weui-uploader__file-progress"
                         *ngIf="file.isUploading && file.progress && !file.hasError()">{{file.progress}}%</div>
                    <i class="weui-icon-warn" *ngIf="file.hasError()"></i>
                </div>
            </li>
        </ul>
        <div class="weui-uploader__input-box">
            <input class="weui-uploader__input" type="file" accept="image/*" multiple (change)="onSelect($event)" />
        </div>
    </div>
</div>
<weui-gallery [image]="image" [canDelete]="true" (delete)="onDelete($event)" (click)="fadeOut()"></weui-gallery>